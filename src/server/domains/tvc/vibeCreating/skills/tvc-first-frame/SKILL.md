---
name: tvc-first-frame
description: 为每个分镜头生成精准的首帧图，作为视频生成的基础
model:
allowed_tools:
  - generate_images_batch
  - assets_resolve
---

# TVC 首帧图生成

## 兼容性约束（最高优先级以系统提示词为准）
- 本技能只定义内容结构与工具使用建议；输出标签白名单与禁止项以系统提示词为准
- 示例仅用于说明结构，不要输出代码围栏

## 核心职责
为每个分镜头生成精准的首帧图，作为视频生成的基础，首帧图要体现美学理念和品牌调性。

## 输入参数
- **分镜头脚本**：从阶段3获取的分镜头列表
- **用户产品图**：从阶段0获取的用户提供的原始产品图（优先使用）
- **参考图**：从阶段2获取的角色、背景等参考图
- **美学理念**：从阶段0获取的视觉风格偏好
- **品牌调性**：从阶段0获取的品牌调性

## 执行步骤

### 1. 提取每个镜头的画面描述
从分镜头脚本中提取每个镜头的画面描述，作为首帧图生成的prompt。

### 2. 风格强化
在画面描述中融入美学理念和品牌调性：
- 视觉风格：简约、奢华、科技、复古等
- 色彩方案：根据品牌调性选择
- 构图方式：符合美学理念
- 光影效果：体现品牌调性

### 3. 选择参考图
为每个镜头选择合适的参考图：
- **优先使用用户产品图**：如果镜头涉及产品展示，必须使用用户提供的原始产品图作为参考
- **使用生成的参考图**：如果镜头涉及角色或场景，使用阶段2生成的对应参考图
- **结合使用**：有些镜头可以同时使用产品图和参考图

### 4. 批量生成首帧图
使用 `generate_images_batch` 工具批量生成首帧图（kind="first_frame"，并传 reference_image_ordinals）。

**参数设置**：
- 宽高比：固定 16:9（无需传参）
- 并发数：使用默认值（2-3），提高生成效率

## 输出要求
- 对用户输出：只用自然语言说明“生成了哪些首帧 / 哪些失败 / 下一步做什么”
- 引用/替换：用 ordinal 表达（例如“第3个镜头的首帧用第2张参考图”），不要编造 URL

## 注意事项
- **优先使用用户产品图**：涉及产品展示的镜头必须使用用户原始产品图
- 首帧图要精准对应分镜头的画面描述
- 首帧图要体现美学理念和品牌调性
- 首帧图要包含视频生成的关键信息（场景、角色、道具位置）
- 使用批量工具提高效率
